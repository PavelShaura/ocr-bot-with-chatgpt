## Телеграм-бот для чтения текста с фото и последующей отправкой текста в ChatGPT.
![](https://img.shields.io/badge/language-python_3.10-blue?logo=python&logoColor=f5f5f5)
![](https://img.shields.io/badge/license-MIT-blue?logo=mit&logoColor=f5f5f5)

![Иллюстрация к проекту](https://github.com/PavelShaura/ocr-bot-with-chatgpt/blob/main/img/sample_image.png)

Ссылка на бота: https://t.me/photo_to_text_to_chatgpt_bot

## Описание
Задачи бота:

Пользователь:
1. Получить текст с фото: Пользователь отправляет боту фото, и бот выдает текст с фото.
2. Отправка текста в ИИ: Под извлеченным текстом с фото бот предоставляет inline-кнопки "Отправить в ChatGPT" и "Написать свой текст",
котрые отвечают за мгновенное отправку извлеченного текста в ИИ, либо написания любого другого текста в ИИ соответственно.
3. Получение ответа от ИИ: После отправки выбранного пользователем текста в ИИ приходит ответ релевантный запросу по отправленному тесту

Администратор:
1. Меню администратора: После ввода команды /admin дминистратором бота, user id которго добавлен в спиок
администраторов в .env файле, выходит меню с reply-кнопками "Колличество пользователей" и "Сделать расылку"
2. Просмотр количества пользователей: При нажатии на кнопку "Колличество пользователей" приходит сообщение с информацией об общем
количестве пользователей бота за все время, актиных пользователей, и пользователей заблокировавших бота.
3. Рассылка сообщений пользователям: При нажатии на кнопку "Сделать рассылку" бот предоставляет inline-кнопки "Только текст"
 и "Картинка с текстом" для выбора типа сообщения для рассылки, при нажатии на которые бот последовательно просит ввести
информацию для рассылки. Когда вся информация введена выходит предварительный просмотр отправляемого сообщения с inline-кнопками
"Отправить ВСЕМ" и "Отмена". При нажатии на "Отправить ВСЕМ" происходит рассылка данного сообщения всем активным пользователям бота.
При нажатии "Отмена" сообщение удаляется, состояние сбрасывается.

## Деплой с Docker

1. Установите Python 3.10, если он не установлен. [Python.org](https://www.python.org/downloads/)
Создайте и заполните данными файл .env по примеру .env_example

2. Склонируйте репозиторий:
     ```bash
   git clone https://github.com/PavelShaura/ocr-bot-with-chatgpt

3. Сборка Docker-образа. 
Перейдите в корневую директорию проекта:
    ```bash
   cd ocr-bot-with-chatgpt

4. Затем выполните команду: 

    ```bash
   docker-compose build
    
При условии, что у вас уже установлен doker. Инструкция по установке <a href="https://www.digitalocean.com/community/tutorials/how-to-install-and-use-docker-on-ubuntu-20-04-ru">тут</a> .

5. Запуск контейнера. После успешной сборки Docker-образа запустите контейнер, выполнив команду:
    ```bash
   docker-compose up -d

Это запустит вашего бота в фоновом режиме.

6. Проверка работы бота

После запуска контейнера проверьте работу вашего бота, отправив сообщение в Telegram.

<div id="header">
  <img src="https://media.giphy.com/media/3b6rWgdpjf0jrvvvZ6/giphy.gif" width="100"/>
</div>

Вопросы и предложения: https://t.me/PavelShau
